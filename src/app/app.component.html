<div class="m-8">
  <h2 class="text-2xl font-bold mb-4">Product List</h2>
  <ul class="space-y-4">
    @for(product of products; track product.id){
    <li
      class="border p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow"
    >
      <h3 class="text-xl font-semibold">{{ product.name }}</h3>
      <p class="text-gray-600">{{ product.description }}</p>
      <p class="text-lg font-bold">Price: {{ product.price }}€</p>
      <button
        (click)="addToCart(product)"
        class="mt-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors"
      >
        Add to Cart
      </button>
    </li>
    }
  </ul>

  <div class="mt-8">
    <h3 class="text-xl font-bold mb-2">Cart Details:</h3>
    @for(item of productsService.cart().products; track item.id){
    <div class="flex justify-between items-center mb-2">
      <div class="text-lg">{{ item.name }}</div>
      <div class="text-lg">{{ item.price }}€</div>
    </div>
    }
    <div class="mt-4 font-semibold text-lg">
      Total amount: {{ getTotal() }}€
    </div>
  </div>

  <div class="mt-8">
    <h1
      class="bg-red-200 w-2xl text-2xl rounded-2xl p-4 text-center border-[0.23vw]"
    >
      Users
    </h1>
    <ul class="mt-10 space-y-4 flex flex-row flex-wrap max-h-auto">
      @for (user of users; track user.id){
      <li
        class="border mr-2 w-2xl h-32 p-4 rounded-lg shadow-md hover:shadow-lg transition-shadow bg-gradient-to-bl from-blue-100 via-blue-300 to-blue-200"
      >
        <div class="flex justify-between items-center">
          <div>
            <h2 class="text-lg font-semibold">{{ user.name }}</h2>
            <p class="text-gray-600">{{ user.email }}</p>
          </div>
          <button
            class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors"
            (click)="deleteUser(user.id)"
          >
            Delete user
          </button>
        </div>
      </li>
      }
    </ul>
  </div>

  <form (ngSubmit)="addUser(name, email)" class="mt-8 space-y-4">
    <div>
      <label for="name" class="block text-lg font-medium">Name:</label>
      <input
        class="border border-indigo-600 bg-amber-100 px-4 py-2 rounded"
        type="text"
        id="name"
        [(ngModel)]="name"
        name="name"
        required
      />
    </div>

    <div>
      <label for="email" class="block text-lg font-medium">Email:</label>
      <input
        class="border border-indigo-600 bg-amber-100 px-4 py-2 rounded"
        type="email"
        id="email"
        [(ngModel)]="email"
        name="email"
        required
      />
    </div>

    <button
      class="bg-blue-200 border-5 border-b-blue-800 hover:transform hover:translate-x-1 m-4 px-6 py-2 rounded-lg transition-transform"
      type="submit"
    >
      Add User
    </button>
  </form>
</div>
